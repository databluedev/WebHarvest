@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&display=swap');

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222 55% 7%;
    --card: 214 30% 97%;
    --card-foreground: 222 55% 7%;
    --popover: 0 0% 100%;
    --popover-foreground: 222 55% 7%;
    --primary: 220 80% 36%;
    --primary-foreground: 0 0% 100%;
    --secondary: 214 25% 93%;
    --secondary-foreground: 222 50% 10%;
    --muted: 214 25% 93%;
    --muted-foreground: 220 30% 32%;
    --accent: 214 25% 93%;
    --accent-foreground: 222 50% 10%;
    --destructive: 0 84% 55%;
    --destructive-foreground: 0 0% 98%;
    --border: 214 25% 82%;
    --input: 214 25% 82%;
    --ring: 220 80% 36%;
    --radius: 0.5rem;
    --sidebar: 214 30% 96%;
  }

  .dark {
    --background: 228 12% 5%;
    --foreground: 0 0% 93%;
    --card: 228 10% 7%;
    --card-foreground: 0 0% 93%;
    --popover: 228 10% 7%;
    --popover-foreground: 0 0% 93%;
    --primary: 170 75% 41%;
    --primary-foreground: 0 0% 100%;
    --secondary: 228 6% 11%;
    --secondary-foreground: 0 0% 93%;
    --muted: 228 6% 11%;
    --muted-foreground: 220 8% 62%;
    --accent: 228 6% 11%;
    --accent-foreground: 0 0% 93%;
    --destructive: 0 63% 50%;
    --destructive-foreground: 0 0% 98%;
    --border: 228 6% 14%;
    --input: 228 6% 14%;
    --ring: 170 75% 41%;
    --sidebar: 228 10% 5%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
  }
}

/* ========================================
   Subtle Background Patterns
   ======================================== */

.grid-bg {
  background-image:
    radial-gradient(circle at 1px 1px, hsla(var(--foreground), 0.03) 1px, transparent 0);
  background-size: 24px 24px;
}

.mesh-gradient {
  /* cleaned up - just a very subtle top glow */
  background:
    radial-gradient(ellipse 80% 40% at 50% -10%, hsla(var(--primary), 0.04), transparent);
}

/* ========================================
   Gradient Text
   ======================================== */

.gradient-text {
  background: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(170, 75%, 58%) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.gradient-text-white {
  background-image: linear-gradient(180deg, hsla(0, 0%, 100%, 1), hsla(0, 0%, 100%, 0.55));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ========================================
   Animations
   ======================================== */

@keyframes fade-in {
  from { opacity: 0; transform: translateY(4px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes float-in {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes scale-in {
  from { opacity: 0; transform: scale(0.96); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes slide-in-left {
  from { opacity: 0; transform: translateX(-30px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes slide-in-right {
  from { opacity: 0; transform: translateX(30px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes pulse-soft {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 1; }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes glow-pulse {
  0%, 100% { box-shadow: 0 0 12px -4px hsla(var(--primary), 0.2); }
  50% { box-shadow: 0 0 20px -4px hsla(var(--primary), 0.4); }
}

@keyframes breathe {
  0%, 100% { opacity: 0.5; transform: scale(1); }
  50% { opacity: 0.8; transform: scale(1.02); }
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out forwards;
}

.animate-float-in {
  animation: float-in 0.4s ease-out forwards;
}

.animate-scale-in {
  animation: scale-in 0.25s ease-out forwards;
}

.animate-slide-in-left {
  animation: slide-in-left 0.3s ease-out forwards;
}

.animate-pulse-soft {
  animation: pulse-soft 3s ease-in-out infinite;
}

.animate-shimmer {
  background: linear-gradient(90deg, transparent 25%, hsla(var(--primary), 0.03) 50%, transparent 75%);
  background-size: 200% 100%;
  animation: shimmer 2.5s infinite;
}

.animate-glow-pulse {
  animation: glow-pulse 2.5s ease-in-out infinite;
}

.animate-breathe {
  animation: breathe 4s ease-in-out infinite;
}

/* Staggered children */
.stagger-children > * {
  opacity: 0;
  animation: float-in 0.35s ease-out forwards;
}
.stagger-children > *:nth-child(1) { animation-delay: 0.03s; }
.stagger-children > *:nth-child(2) { animation-delay: 0.06s; }
.stagger-children > *:nth-child(3) { animation-delay: 0.09s; }
.stagger-children > *:nth-child(4) { animation-delay: 0.12s; }
.stagger-children > *:nth-child(5) { animation-delay: 0.15s; }
.stagger-children > *:nth-child(6) { animation-delay: 0.18s; }

/* ========================================
   Glass Card (used on auth pages)
   ======================================== */

.glass-card {
  background: hsla(var(--card), 0.8);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid hsl(var(--border));
}

.glass-sm {
  background: hsla(var(--muted), 0.5);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

/* ========================================
   Monospace Font
   ======================================== */

.font-mono {
  font-family: 'JetBrains Mono', 'Fira Code', 'Cascadia Code', monospace !important;
}

/* ========================================
   Custom Scrollbar
   ======================================== */

::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: hsla(var(--foreground), 0.08);
  border-radius: 100px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsla(var(--foreground), 0.15);
}

/* ========================================
   Code / Markdown
   ======================================== */

pre, code {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
}

.markdown-output {
  @apply text-sm leading-relaxed;
}

.markdown-output h1 { @apply text-2xl font-bold mt-6 mb-3; }
.markdown-output h2 { @apply text-xl font-bold mt-5 mb-2; }
.markdown-output h3 { @apply text-lg font-semibold mt-4 mb-2; }
.markdown-output p { @apply mb-3; }
.markdown-output ul { @apply list-disc pl-6 mb-3; }
.markdown-output ol { @apply list-decimal pl-6 mb-3; }
.markdown-output a { @apply text-primary underline; }
.markdown-output code { @apply bg-muted px-1.5 py-0.5 rounded text-xs font-mono; }
.markdown-output pre { @apply bg-muted p-4 rounded-lg overflow-x-auto mb-4 border border-border; }
.markdown-output table { @apply w-full border-collapse mb-4; }
.markdown-output th { @apply border border-border px-3 py-2 bg-muted text-left font-semibold; }
.markdown-output td { @apply border border-border px-3 py-2; }

/* ========================================
   Selection
   ======================================== */

::selection {
  background: hsla(var(--primary), 0.15);
  color: hsl(var(--primary));
}

/* ========================================
   Select Styling
   ======================================== */

select {
  @apply rounded-md border border-input bg-background px-3 text-sm;
  @apply focus:outline-none focus:ring-2 focus:ring-ring/20 focus:border-ring/30;
  @apply transition-colors duration-150;
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 10px center;
  padding-right: 32px;
}

/* ========================================
   Range Input
   ======================================== */

input[type="range"] {
  @apply w-full h-1.5 bg-muted rounded-full appearance-none cursor-pointer;
}

input[type="range"]::-webkit-slider-thumb {
  appearance: none;
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: hsl(var(--primary));
  cursor: pointer;
  box-shadow: 0 0 6px -1px hsla(var(--primary), 0.3);
}

/* ========================================
   Table Styling
   ======================================== */

.data-table {
  @apply w-full text-sm;
}

.data-table thead tr {
  @apply border-b border-border;
}

.data-table th {
  @apply text-left py-3 px-3 font-medium text-muted-foreground text-xs uppercase tracking-wider;
}

.data-table tbody tr {
  @apply border-b border-border hover:bg-muted/50 transition-colors;
}

.data-table td {
  @apply py-3 px-3;
}

/* ========================================
   Sidebar Mobile Overlay
   ======================================== */

.sidebar-overlay {
  @apply fixed inset-0 bg-black/50 z-40 lg:hidden;
  animation: fade-in 0.2s ease-out;
}

/* ========================================
   Sidebar Hover Expand
   ======================================== */

/* Tooltip for collapsed sidebar items */
.sidebar-tooltip {
  position: absolute;
  left: calc(100% + 8px);
  top: 50%;
  transform: translateY(-50%);
  white-space: nowrap;
  padding: 4px 10px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 500;
  background: hsl(var(--card));
  border: 1px solid hsl(var(--border));
  color: hsl(var(--foreground));
  box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.3);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.15s ease;
  z-index: 100;
}

.sidebar-item:hover .sidebar-tooltip {
  opacity: 1;
}

/* Account popup animation */
@keyframes popup-in {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(4px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

.animate-popup-in {
  animation: popup-in 0.15s ease-out forwards;
}

/* Utility for hover lift */
.hover-lift {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px -8px rgba(0, 0, 0, 0.15);
}

/* Edge-lit (subtle top inset) */
.edge-lit {
  box-shadow: inset 0 1px 0 0 hsla(var(--foreground), 0.03);
}

/* Glow ring on hover */
.glow-ring {
  transition: box-shadow 0.2s ease;
}
.glow-ring:hover {
  box-shadow: 0 0 0 1px hsla(var(--primary), 0.15), 0 0 16px -4px hsla(var(--primary), 0.1);
}

/* Page utilities */
.page-header {
  @apply mb-8 animate-float-in;
}

.page-title {
  @apply text-2xl font-semibold tracking-tight;
}

.page-subtitle {
  @apply text-sm text-muted-foreground mt-1;
}

/* ========================================
   Landing Page
   ======================================== */

@keyframes ticker-slide {
  from { transform: translateX(0); }
  to { transform: translateX(-50%); }
}

@keyframes gradient-shift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes landing-float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

@keyframes pulse-dot {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.3; }
}

.animate-ticker {
  animation: ticker-slide 30s linear infinite;
}

.animate-gradient-text {
  background: linear-gradient(135deg, #10b981, #f59e0b);
  background-size: 200% 200%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: gradient-shift 4s ease infinite;
}

.animate-gradient-text-blue {
  background: linear-gradient(135deg, #06b6d4, #8b5cf6);
  background-size: 200% 200%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: gradient-shift 4s ease infinite;
}

.animate-gradient-text-pink {
  background: linear-gradient(135deg, #ec4899, #f59e0b);
  background-size: 200% 200%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: gradient-shift 4s ease infinite;
}

.animate-gradient-text-violet {
  background: linear-gradient(135deg, #8b5cf6, #06b6d4);
  background-size: 200% 200%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: gradient-shift 4s ease infinite;
}

.animate-landing-float {
  animation: landing-float 6s ease-in-out infinite;
}

.animate-pulse-dot {
  animation: pulse-dot 2s infinite;
}

/* Landing feature grid with 1px gap borders */
.landing-feature-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1px;
  background: hsl(var(--border));
  border: 1px solid hsl(var(--border));
}

@media (max-width: 1024px) {
  .landing-feature-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 640px) {
  .landing-feature-grid { grid-template-columns: 1fr; }
}

/* Landing comparison table */
.landing-table {
  @apply w-full text-sm border-collapse;
  border: 1px solid hsl(var(--border));
}
.landing-table th,
.landing-table td {
  @apply px-5 py-3.5 text-left;
  border-bottom: 1px solid hsl(var(--border));
}
.landing-table th {
  @apply font-mono text-xs uppercase tracking-wider text-muted-foreground;
  background: hsl(var(--card));
}
.landing-table td:first-child {
  @apply font-mono text-xs text-muted-foreground tracking-wide;
}
.landing-table .hl {
  background: rgba(16, 185, 129, 0.03);
}
.landing-table th.hl {
  color: #10b981;
}
.landing-table td.hl {
  color: hsl(var(--foreground));
}
.landing-table tr:hover td {
  background: rgba(255, 255, 255, 0.01);
}
.landing-table tr:hover td.hl {
  background: rgba(16, 185, 129, 0.06);
}
